(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{134:function(e,n,t){e.exports=t(290)},159:function(e,n,t){},238:function(e,n,t){var a={"./login.js":239,"./menu.js":240};function r(e){var n=o(e);return t(n)}function o(e){var n=a[e];if(!(n+1)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n}r.keys=function(){return Object.keys(a)},r.resolve=o,e.exports=r,r.id=238},239:function(e,n,t){"use strict";t.r(n),t.d(n,"login",function(){return a}),t.d(n,"omLogi",function(){return r});var a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return axios.post("/api/login",e)},r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return axios.post("/api/om/account/omLogin",e)}},240:function(e,n,t){"use strict";t.r(n),t.d(n,"getMenuEnum",function(){return a}),t.d(n,"getMenuAllList",function(){return r}),t.d(n,"getMenuDetail",function(){return o}),t.d(n,"saveMenu",function(){return i}),t.d(n,"saveFunctions",function(){return u}),t.d(n,"deleteMenu",function(){return c});var a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return axios.post("/api/om/Menu/typeList",e)},r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return axios.post("/api/om/Menu/AllList",e)},o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return axios.post("/api/om/menu/detail",e)},i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return axios.post("/api/om/menu/save",e)},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return axios.post("/api/om/menu/saveFunctions",e)},c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return axios.post("/api/om/menu/delete",e)}},290:function(e,n,t){"use strict";t.r(n);var a=t(118),r=t.n(a);window.axios=r.a;var o=t(27),i=t.n(o),u=t(50);axios.defaults.timeout=0,axios.defaults.withCredentials=!0,axios.interceptors.request.use(function(){var e=Object(u.a)(i.a.mark(function e(n){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.headers["X-Requested-With"]="XMLHttpRequest",e.abrupt("return",n);case 2:case"end":return e.stop()}},e,this)}));return function(n){return e.apply(this,arguments)}}());var c=t(0),s=t.n(c),l=t(23),m=t.n(l),p=(t(159),t(54)),d=t(296),f=t(298),g=t(295),v=t(297),h=t(51),E=t(132),w=function(e){return localStorage.setItem("token",e)},b=t(28),x=Object(b.a)(),y=t(29),k=t(119),O=t.n(k),j=function(e){e.message,e.open},L=function(){var e=Object(c.useState)(!1),n=Object(y.a)(e,2),t=n[0],a=n[1],r=Object(c.useState)(""),o=Object(y.a)(r,2),i=o[0],u=o[1];return j=function(e){var n=e.message,t=e.open,r=void 0===t||t;u(n),a(r)},s.a.createElement(O.a,{open:t,message:i,autoHideDuration:1e3,onClose:function(){return a(!1)}})},C=new E.a({uri:"/api",request:function(e){e.setContext(function(e){var n=e.headers,t=void 0===n?{}:n;return{headers:Object(h.a)({},t,{Authorization:localStorage.getItem("token")||""})}})},onError:function(e){var n=e.graphQLErrors,t=e.networkError;n&&n.map(function(e){var n=e.message,t=e.locations,a=e.path;return console.log("[GraphQL error]: Message: ".concat(n,", Location: ").concat(t,", Path: ").concat(a))}),t&&(console.log("[Network error]: ".concat(t.bodyText)),401===t.statusCode&&(j({message:"\u8bf7\u91cd\u65b0\u767b\u5f55"}),x.push("login")))}}),M=t(52),N=t(126),S=t.n(N),q=t(130),A=t.n(q),F=t(125),W=t.n(F),D=t(75),R=t.n(D),T=t(128),I=t.n(T),U=t(129),P=t.n(U),Q=t(77),B=t.n(Q),H=t(76),J=t.n(H),X=t(127),_=t.n(X),z=t(74),G=t.n(z),$=t(46),K=t.n($),V=t(9),Y=t.n(V),Z=t(238),ee=Z.keys().reduce(function(e,n){return Object.keys(Z(n)).forEach(function(n){if(e[n])throw new Error("".concat(n," api\u540d\u79f0\u5b58\u5728\uff0c\u4e3a\u907f\u514d\u51b2\u7a81\u8bf7\u66f4\u6362\u540d\u79f0"))}),Object(h.a)({},e,Z(n))},{});var ne=Y()(function(e){return{main:Object(M.a)({width:"auto",display:"block",marginLeft:3*e.spacing.unit,marginRight:3*e.spacing.unit},e.breakpoints.up(400+3*e.spacing.unit*2),{width:400,marginLeft:"auto",marginRight:"auto"}),paper:{marginTop:8*e.spacing.unit,display:"flex",flexDirection:"column",alignItems:"center",padding:"".concat(2*e.spacing.unit,"px ").concat(3*e.spacing.unit,"px ").concat(3*e.spacing.unit,"px")},avatar:{margin:e.spacing.unit,backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing.unit},submit:{marginTop:3*e.spacing.unit}}})(function(e){var n=e.classes,t=e.history,a=Object(c.useState)("admin"),r=Object(y.a)(a,2),o=r[0],l=r[1],m=Object(c.useState)("123456"),p=Object(y.a)(m,2),d=p[0],f=p[1],g=function(){var e=Object(u.a)(i.a.mark(function e(n){var a,r;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee.login(n);case 2:a=e.sent,(r=a.data).data?(w(r.token),j({open:!0,message:r.message}),t.push("home")):j({open:!0,message:r.message});case 5:case"end":return e.stop()}},e,this)}));return function(n){return e.apply(this,arguments)}}();return s.a.createElement("main",{className:n.main},s.a.createElement(W.a,null),s.a.createElement(G.a,{className:n.paper},s.a.createElement(S.a,{className:n.avatar},s.a.createElement(_.a,null)),s.a.createElement(K.a,{component:"h1",variant:"h5"},"Sign in"),s.a.createElement("form",{className:n.form},s.a.createElement(R.a,{margin:"normal",required:!0,fullWidth:!0},s.a.createElement(J.a,{htmlFor:"email"},"Email Address"),s.a.createElement(B.a,{id:"email",name:"email",autoComplete:"email",autoFocus:!0,value:o,onChange:function(e){return l(e.target.value)}})),s.a.createElement(R.a,{margin:"normal",required:!0,fullWidth:!0},s.a.createElement(J.a,{htmlFor:"password"},"Password"),s.a.createElement(B.a,{name:"password",type:"password",id:"password",autoComplete:"current-password",value:d,onChange:function(e){return f(e.target.value)}})),s.a.createElement(I.a,{control:s.a.createElement(P.a,{value:"remember",color:"primary"}),label:"Remember me"}),s.a.createElement(A.a,{fullWidth:!0,variant:"contained",color:"primary",className:n.submit,onClick:function(){return g({name:o,password:d})}},"Sign in"))))}),te=t(131),ae=t(49),re=t.n(ae);function oe(){var e=Object(te.a)(["\n        {\n          allUser {\n            name\n            id\n          }\n        }\n      "]);return oe=function(){return e},e}var ie=[{props:{path:"/login",component:ne}},{props:{path:"/home",component:function(){return s.a.createElement(p.Query,{query:re()(oe())},function(e){var n=e.loading,t=e.error,a=e.data;return n?s.a.createElement("p",null,"Loading..."):t?s.a.createElement("p",null,"Error :("):a.allUser.map(function(e){var n=e.name,t=e.id;return s.a.createElement("div",{key:t},s.a.createElement("p",null,t,": ",n))})})}}}],ue=function(){return s.a.createElement("div",null,s.a.createElement("h2",null,"About"))},ce=function(){return s.a.createElement("div",null,s.a.createElement("h2",null,"404"))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));m.a.render(s.a.createElement(function(){return s.a.createElement(p.ApolloProvider,{className:"App",client:C},s.a.createElement(d.a,{history:x},s.a.createElement(f.a,null,s.a.createElement(g.a,{exact:!0,from:"/",to:"/home"}),s.a.createElement(v.a,{path:"/about",component:ue}),ie.map(function(e){var n=e.props;return n.layout?s.a.createElement(n.layout,null,s.a.createElement(v.a,Object.assign({},n,{key:n.path}))):s.a.createElement(v.a,Object.assign({},n,{key:n.path}))}),s.a.createElement(v.a,{component:ce}))),s.a.createElement(L,null))},null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[134,2,1]]]);
//# sourceMappingURL=main.ce78f27d.chunk.js.map