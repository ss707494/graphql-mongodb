(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{473:function(e,n,a){"use strict";a.r(n);var t=a(14),i=a(0),r=a.n(i),o=a(585),d=a(486),l=a(67);function u(e,n){if(null==e)return{};var a,t,i=function(e,n){if(null==e)return{};var a,t,i={},r=Object.keys(e);for(t=0;t<r.length;t++)a=r[t],n.indexOf(a)>=0||(i[a]=e[a]);return i}(e,n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(t=0;t<r.length;t++)a=r[t],n.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}function c(e){var n=function(e,n){if("object"!==typeof e||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var t=a.call(e,n||"default");if("object"!==typeof t)return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"===typeof n?n:String(n)}var m=a(584),s=a(497);a.d(n,"DictList",function(){return k});var k=function(e){var n=Object(l.c)(s.allBook),a=Object(t.a)(n,2),i=a[0],k=a[1];r.a.useEffect(function(){i()},[]);var v=[{name:"name"},{name:"title"},{name:"code"},{name:"type"},{name:"bookId",type:"Select",options:k.allBook?k.allBook.map(function(e){return[e.id,e.name]}):[]},{name:"content",multiline:!0,rows:4},{name:"message"}],f=[{name:"name"},{name:"title"},{name:"code"},{name:"type"},{name:"bookName",path:"book.name"},{name:"id"},{name:"message"},{name:"createDate",formatData:function(e){return Object(o.a)(new Date(e),"yyyy/MM/dd HH:mm")}}];return Object(d.a)({queryListGql:m.allNote,deleteGql:m.deleteOneNote,updateGql:m.updateNote,dataListName:"allNote",editType:v,columns:f,dealEditData:function(e){return function(e,n){e[n];return u(e,[n].map(c))}(e,"book")},formColumn:[["title"]]})(e)};n.default=k},486:function(e,n,a){"use strict";var t=a(23),i=a.n(t),r=a(27),o=a(14),d=a(0),l=a.n(d),u=a(488),c=a.n(u),m=a(491),s=a.n(m),k=a(496),v=a.n(k),f=a(495),p=a.n(f),N=a(492),b=a.n(N),S=a(494),y=a.n(S),g=a(67),E=a(498),O=a(38),D=a(6),F=a(26),h=a(37),j=a.n(h),w=a(140),B=a.n(w),T=a(143),V=a.n(T),C=a(142),q=a.n(C),x=a(141),$=a.n(x),I=a(482),A=a.n(I),G=a(107),P=a.n(G),L=a(483),H=a.n(L),z=a(108),J=a.n(z),M=a(481),Q=a.n(M),W=a(485),K=a(484),R=function(e){var n=e.typeName,a=void 0===n?"data":n,t=e.updateSchema,d=e.editType,u=e.refetch,c=e.showEdit,m=e.setEditData,s=e.editData,k=e.setShowEdit,v=e.dealEditData,f=void 0===v?function(e){return e}:v,p=function(e){return m(Object(F.a)({},s,e))},N=Object(g.b)(t),b=Object(o.a)(N,3),S=b[0],y=b[2];return l.a.createElement(B.a,{open:c,onClose:function(){return k(!1)}},l.a.createElement(V.a,null,"EDIT"),l.a.createElement($.a,null,l.a.createElement("form",null,d.map(function(e){var n=e.name;return l.a.createElement(P.a,{fullWidth:!0,key:"edit".concat(n)},U(Object(F.a)({},e,{editData:s,setEdit:p,setEditData:m})))}))),l.a.createElement(q.a,null,l.a.createElement(j.a,{onClick:Object(r.a)(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S(Object(D.a)({},a,f(s)));case 2:k(!1),u();case 4:case"end":return e.stop()}},e,this)}))},y?"loading":"save"),l.a.createElement(j.a,{onClick:function(){return k(!1)}},"cancel")))},U=function(e){var n=e.name,a=e.type,t=e.editData,i=e.setEdit,r=e.options,d=void 0===r?[]:r;return"Select"===a?l.a.createElement(l.a.Fragment,null,l.a.createElement(J.a,{shrink:t[n]},n),l.a.createElement(Q.a,{value:t[n],onChange:function(e){return i(Object(D.a)({},n,e.target.value))}},d.map(function(e){var n=Object(o.a)(e,2),a=n[0],t=n[1];return l.a.createElement(H.a,{key:a,value:a},t)}))):"DatePicker"===a?l.a.createElement(W.b,{utils:K.a},l.a.createElement(W.a,{label:n,value:t[n],onChange:function(e){return i(Object(D.a)({},n,e))}})):l.a.createElement(A.a,{label:n,value:t[n]||"",multiline:e.multiline,rows:e.rows,onChange:function(e){return i(Object(D.a)({},n,e.target.value))}})},X=function(e){var n=e.setFormData,a=e.formData,t=e.formColumn;return l.a.createElement("form",null,t.map(function(e){var t=Object(o.a)(e,1)[0];return l.a.createElement(P.a,{key:"SearchForm".concat(t)},Y(Object(F.a)({},e,{formData:a,setFormData:n})))}))},Y=function(e){var n=e.name,a=e.type,t=e.formData,i=e.setEdit,r=e.options,d=void 0===r?[]:r;return"Select"===a?l.a.createElement(l.a.Fragment,null,l.a.createElement(J.a,{shrink:t[n]},n),l.a.createElement(Q.a,{value:t[n],onChange:function(e){return i(Object(D.a)({},n,e.target.value))}},d.map(function(e){var n=Object(o.a)(e,2),a=n[0],t=n[1];return l.a.createElement(H.a,{key:a,value:a},t)}))):"DatePicker"===a?l.a.createElement(W.b,{utils:K.a},l.a.createElement(W.a,{label:n,value:t[n],onChange:function(e){return i(Object(D.a)({},n,e))}})):l.a.createElement(A.a,{label:n,value:t[n]||"",multiline:e.multiline,rows:e.rows,onChange:function(e){return i(Object(D.a)({},n,e.target.value))}})},Z=a(74),_=a(75),ee=a(68),ne=a.n(ee);function ae(){var e=Object(Z.a)(["\n  padding: 10px;\n"]);return ae=function(){return e},e}var te={};te.TableSection=Object(_.a)(ne.a)(ae()),a.d(n,"a",function(){return ie});var ie=function(e){return function(n){var a=Object(O.a)(),t=Object(o.a)(a,1)[0],u=Object(g.c)(e.queryListGql),m=Object(o.a)(u,2),k=m[0],f=m[1][e.dataListName],N=void 0===f?[]:f,S=Object(g.b)(e.deleteGql),D=Object(o.a)(S,1)[0],F=function(){var e=Object(d.useState)({}),n=Object(o.a)(e,2),a=n[0];return{setFormData:n[1],formData:a}}();Object(d.useEffect)(function(){k(F.formData)},[]);var h=function(){var e=Object(d.useState)(!1),n=Object(o.a)(e,2),a=n[0],t=n[1],i=Object(d.useState)({}),r=Object(o.a)(i,2),l=r[0],u=r[1];return{editClick:function(e){return function(){u(e),t(!0)}},showEdit:a,setEditData:u,editData:l,setShowEdit:t}}(),j=h.editClick,w=e.editType,B=e.columns;return l.a.createElement(l.a.Fragment,null,l.a.createElement(te.TableSection,null,l.a.createElement("header",null,l.a.createElement(E.a,{variant:"outlined",onClick:j({})},"add"),e.formColumn&&l.a.createElement(X,Object.assign({formColumn:e.formColumn},F))),l.a.createElement(s.a,null,l.a.createElement(b.a,null,l.a.createElement(y.a,null,B.map(function(e){var n=e.name;return l.a.createElement(p.a,{key:"tableHead".concat(n)},n)}),l.a.createElement(p.a,null,"action"))),l.a.createElement(v.a,null,N.map(function(e){return l.a.createElement(y.a,{key:e.id},B.map(function(n){var a=n.name,t=n.path,i=n.formatData,r=void 0===i?function(e){return e}:i;return l.a.createElement(p.a,{key:"tableBody".concat(a)},r(c()(e,t||a)))}),l.a.createElement(p.a,null,l.a.createElement(E.a,{variant:"outlined",onClick:j(e)},"edit"),l.a.createElement(E.a,{variant:"outlined",onClick:function(){t.showConfirm({message:"Are you sure",callBack:function(){var n=Object(r.a)(i.a.mark(function n(a){return i.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(a){n.next=2;break}return n.abrupt("return");case 2:return n.next=4,D({id:e.id});case 4:k();case 5:case"end":return n.stop()}},n,this)}));return function(e){return n.apply(this,arguments)}}()})}},"del")))})))),l.a.createElement(R,Object.assign({refetch:k,editType:w,updateSchema:e.updateGql,dealEditData:e.dealEditData},h)))}}},497:function(e,n){var a={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"bookF"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Book"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createDate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"modifyDate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"updateBook"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"BookInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateBook"},arguments:[{kind:"Argument",name:{kind:"Name",value:"data"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"bookF"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"deleteOneBook"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deleteOneBook"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[]}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"oneBook"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"oneBook"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"bookF"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"allBook"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"allBook"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"bookF"},directives:[]}]}}]}}],loc:{start:0,end:418}};a.loc.source={body:"\r\nfragment bookF on Book {\r\n    id\r\n    name\r\n    createDate\r\n    modifyDate\r\n    message\r\n}\r\n\r\nmutation updateBook($data: BookInput!){\r\n    updateBook(data: $data) {\r\n        ... bookF\r\n    }\r\n}\r\n\r\nmutation deleteOneBook($id: String!){\r\n    deleteOneBook(id: $id)\r\n}\r\n\r\nquery oneBook($id: String!){\r\n    oneBook(id: $id) {\r\n        ... bookF\r\n    }\r\n}\r\n\r\nquery allBook{\r\n    allBook {\r\n        ... bookF\r\n    }\r\n}\r\n\r\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var t={};function i(e,n){for(var a=0;a<e.definitions.length;a++){var t=e.definitions[a];if(t.name&&t.name.value==n)return t}}function r(e,n){var a={kind:e.kind,definitions:[i(e,n)]};e.hasOwnProperty("loc")&&(a.loc=e.loc);var r=t[n]||new Set,o=new Set,d=new Set;for(r.forEach(function(e){d.add(e)});d.size>0;){var l=d;d=new Set,l.forEach(function(e){o.has(e)||(o.add(e),(t[e]||new Set).forEach(function(e){d.add(e)}))})}return o.forEach(function(n){var t=i(e,n);t&&a.definitions.push(t)}),a}a.definitions.forEach(function(e){if(e.name){var n=new Set;!function e(n,a){if("FragmentSpread"===n.kind)a.add(n.name.value);else if("VariableDefinition"===n.kind){var t=n.type;"NamedType"===t.kind&&a.add(t.name.value)}n.selectionSet&&n.selectionSet.selections.forEach(function(n){e(n,a)}),n.variableDefinitions&&n.variableDefinitions.forEach(function(n){e(n,a)}),n.definitions&&n.definitions.forEach(function(n){e(n,a)})}(e,n),t[e.name.value]=n}}),e.exports=a,e.exports.updateBook=r(a,"updateBook"),e.exports.deleteOneBook=r(a,"deleteOneBook"),e.exports.oneBook=r(a,"oneBook"),e.exports.allBook=r(a,"allBook")},584:function(e,n,a){var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"noteF"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Note"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createDate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"modifyDate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bookId"},arguments:[],directives:[]}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"updateNote"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"NoteInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateNote"},arguments:[{kind:"Argument",name:{kind:"Name",value:"data"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"noteF"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"deleteOneNote"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deleteOneNote"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[]}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"oneNote"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"oneNote"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"noteF"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"allNote"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NamedType",name:{kind:"Name",value:"NoteInput"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"allNote"},arguments:[{kind:"Argument",name:{kind:"Name",value:"data"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"noteF"},directives:[]},{kind:"Field",name:{kind:"Name",value:"book"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"bookF"},directives:[]}]}}]}}]}}],loc:{start:0,end:581}};t.loc.source={body:'#import "./book.graphql"\r\n\r\nfragment noteF on Note {\r\n    id\r\n    name\r\n    title\r\n    code\r\n    type\r\n    content\r\n    createDate\r\n    modifyDate\r\n    message\r\n    bookId\r\n}\r\n\r\nmutation updateNote($data: NoteInput!){\r\n    updateNote(data: $data) {\r\n        ... noteF\r\n    }\r\n}\r\n\r\nmutation deleteOneNote($id: String!){\r\n    deleteOneNote(id: $id)\r\n}\r\n\r\nquery oneNote($id: String!){\r\n    oneNote(id: $id) {\r\n        ... noteF\r\n    }\r\n}\r\n\r\nquery allNote($data: NoteInput){\r\n    allNote(data: $data) {\r\n        ... noteF\r\n        book {\r\n            ... bookF\r\n        }\r\n    }\r\n}\r\n\r\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};t.definitions=t.definitions.concat(a(497).definitions.filter(function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!i[n]&&(i[n]=!0,!0)}));var r={};function o(e,n){for(var a=0;a<e.definitions.length;a++){var t=e.definitions[a];if(t.name&&t.name.value==n)return t}}function d(e,n){var a={kind:e.kind,definitions:[o(e,n)]};e.hasOwnProperty("loc")&&(a.loc=e.loc);var t=r[n]||new Set,i=new Set,d=new Set;for(t.forEach(function(e){d.add(e)});d.size>0;){var l=d;d=new Set,l.forEach(function(e){i.has(e)||(i.add(e),(r[e]||new Set).forEach(function(e){d.add(e)}))})}return i.forEach(function(n){var t=o(e,n);t&&a.definitions.push(t)}),a}t.definitions.forEach(function(e){if(e.name){var n=new Set;!function e(n,a){if("FragmentSpread"===n.kind)a.add(n.name.value);else if("VariableDefinition"===n.kind){var t=n.type;"NamedType"===t.kind&&a.add(t.name.value)}n.selectionSet&&n.selectionSet.selections.forEach(function(n){e(n,a)}),n.variableDefinitions&&n.variableDefinitions.forEach(function(n){e(n,a)}),n.definitions&&n.definitions.forEach(function(n){e(n,a)})}(e,n),r[e.name.value]=n}}),e.exports=t,e.exports.updateNote=d(t,"updateNote"),e.exports.deleteOneNote=d(t,"deleteOneNote"),e.exports.oneNote=d(t,"oneNote"),e.exports.allNote=d(t,"allNote")}}]);
//# sourceMappingURL=5.9805a5a2.chunk.js.map