(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{5799:function(e,t,a){"use strict";a.r(t),a.d(t,"List",function(){return u});var n=a(5883),r=a(5813),c=a(260),o=[{name:"name"},{name:"id"},{name:"message"},{name:"createDate",formatData:function(e){return Object(n.a)(new Date(e),"yyyy/MM/dd HH:mm")}}],u=Object(r.a)({queryListGql:c.allBook,deleteGql:c.deleteOneBook,updateGql:c.updateBook,dataListName:"allBook",editType:[{name:"name"},{name:"message"}],columns:o});t.default=u},5813:function(e,t,a){"use strict";var n=a(24),r=a.n(n),c=a(28),o=a(10),u=a(30),i=a(19),l=a(0),m=a.n(l),s=a(5815),d=a.n(s),f=a(254),b=a.n(f),E=a(258),p=a.n(E),v=a(129),O=a.n(v),g=a(255),j=a.n(g),D=a(256),h=a.n(D),k=a(257),w=a.n(k),y=a(127),C=a(5820),P=a(43),S=a(32),x=a.n(S),q=a(88),F=a.n(q),L=a(91),T=a.n(L),B=a(90),G=a.n(B),H=a(89),N=a.n(H),J=a(64),M=a.n(J),A=a(183),I=a.n(A),R=a(128),W=a.n(R),z=a(66),K=a.n(z),Q=a(87),U=a.n(Q),V=a(5821),X=a(5819),Y=function(e){var t=e.name,a=e.type,n=e.editData,r=e.setEditData,c=e.options,l=void 0===c?[]:c,s=function(e){return r(Object(u.a)({},n,e))};return"Select"===a?m.a.createElement(m.a.Fragment,null,m.a.createElement(K.a,{shrink:!!n[t]},t),m.a.createElement(U.a,{value:n[t]||"",onChange:function(e){return s(Object(o.a)({},t,e.target.value))}},l.map(function(e){var t=Object(i.a)(e,2),a=t[0],n=t[1];return m.a.createElement(W.a,{key:a,value:a},n)}))):"DatePicker"===a?m.a.createElement(V.b,{utils:X.a},m.a.createElement(V.a,{label:t,value:n[t],onChange:function(e){return s(Object(o.a)({},t,e))}})):m.a.createElement(I.a,{label:t,value:n[t]||"",multiline:e.multiline,rows:e.rows,onChange:function(e){return s(Object(o.a)({},t,e.target.value))}})},Z=function(e){var t=e.typeName,a=void 0===t?"data":t,n=e.updateSchema,l=e.editType,s=e.refetch,d=e.showEdit,f=e.setEditData,b=e.editData,E=e.setShowEdit,p=e.dealEditData,v=void 0===p?function(e){return e}:p,O=Object(y.a)(n),g=Object(i.a)(O,3),j=g[0],D=g[2];return m.a.createElement(F.a,{open:d,onClose:function(){return E(!1)}},m.a.createElement(T.a,null,"EDIT"),m.a.createElement(N.a,null,m.a.createElement("form",null,l.map(function(e){var t=e.name;return m.a.createElement(M.a,{fullWidth:!0,key:"edit".concat(t)},Y(Object(u.a)({},e,{editData:b,setEditData:f})))}))),m.a.createElement(G.a,null,m.a.createElement(x.a,{onClick:Object(c.a)(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j(Object(o.a)({},a,v(b)));case 2:E(!1),s();case 4:case"end":return e.stop()}},e,this)}))},D?"loading":"save"),m.a.createElement(x.a,{onClick:function(){return E(!1)}},"cancel")))},$=a(58),_=a(59);function ee(){var e=Object($.a)(["\n    &&& {\n      min-width: 120px;\n      margin-left: 20px;\n    }\n"]);return ee=function(){return e},e}var te={FormControl:Object(_.a)(M.a)(ee())},ae=function(e){var t=e.setFormData,a=e.formData,n=e.formColumn,r=e.onSubmit,c=void 0===r?function(){}:r;return m.a.createElement("form",{onSubmit:function(e){e.preventDefault(),c()}},n.map(function(e){var n=Object(i.a)(e,3),r=n[0],c=n[1],o=n[2];return m.a.createElement(te.FormControl,{key:"SearchForm".concat(r)},Y({name:r,type:c,options:o,editData:a,setEditData:t}))}))},ne=a(75),re=function(e){var t=e.pageData,a=e.setPageData,n=e.count,r=e.refresh,c=void 0===r?function(){}:r;return m.a.createElement(ne.g,{component:"div",rowsPerPageOptions:[5,10,25],count:n,rowsPerPage:t.rowsPerPage||10,page:t.page||0,onChangePage:function(e,t){a({page:t}),c({page:t})},onChangeRowsPerPage:function(e){a({rowsPerPage:e.target.value}),c({rowsPerPage:e.target.value})}})},ce=a(49),oe=a.n(ce);function ue(){var e=Object($.a)(["\n  text-align: center;\n"]);return ue=function(){return e},e}function ie(){var e=Object($.a)(["\n  display: flex;\n"]);return ie=function(){return e},e}function le(){var e=Object($.a)(["\n  padding: 10px;\n"]);return le=function(){return e},e}var me={};me.TableSection=Object(_.a)(oe.a)(le()),me.Header=Object(_.a)("header")(ie()),me.Loading=Object(_.a)("section")(ue()),a.d(t,"a",function(){return se});var se=function(e){return function(t){var a=Object(P.a)(),n=Object(i.a)(a,1)[0],s=Object(y.b)(e.queryListGql),f=Object(i.a)(s,3),E=f[0],v=f[1],g=v[e.dataListName],D=void 0===g?[]:g,k=v.total,S=void 0===k?0:k,x=f[2],q=Object(y.a)(e.deleteGql),F=Object(i.a)(q,1)[0],L=function(){var e=Object(l.useState)({}),t=Object(i.a)(e,2),a=t[0];return{setFormData:t[1],formData:a}}(),T=function(){var e=Object(l.useState)({page:0,rowsPerPage:10}),t=Object(i.a)(e,2),a=t[0],n=t[1];return{pageData:a,setPageData:function(e){return n(Object(u.a)({},a,e))}}}(),B=m.a.useState({}),G=Object(i.a)(B,2),H=G[0],N=G[1],J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return E({data:Object(u.a)({},L.formData,{sortData:H},T.pageData,e)})};Object(l.useEffect)(function(){J()},[]);var M=function(){var e=Object(l.useState)(!1),t=Object(i.a)(e,2),a=t[0],n=t[1],r=Object(l.useState)({}),c=Object(i.a)(r,2),o=c[0],u=c[1];return{editClick:function(e){return function(){u(e),n(!0)}},showEdit:a,setEditData:u,editData:o,setShowEdit:n}}(),A=M.editClick,I=e.editType,R=e.columns,W=function(e){T.setPageData({page:0}),J(Object(u.a)({page:0},e))};return m.a.createElement(m.a.Fragment,null,m.a.createElement(me.TableSection,null,m.a.createElement(me.Header,null,m.a.createElement(C.a,{variant:"outlined",onClick:A({})},"add"),e.formColumn&&m.a.createElement(m.a.Fragment,null,m.a.createElement(ae,Object.assign({formColumn:e.formColumn,onSubmit:function(){return W()}},L)),m.a.createElement(C.a,{onClick:function(){return W()}},"search"))),x?m.a.createElement(me.Loading,null,m.a.createElement(ne.b,null)):m.a.createElement(b.a,null,m.a.createElement(j.a,null,m.a.createElement(h.a,null,R.map(function(e){var t=e.name,a=e.sort;return m.a.createElement(O.a,{key:"tableHead".concat(t)},a?m.a.createElement(w.a,{title:"sort"},m.a.createElement(ne.h,{active:!0,direction:-1===H[t]?"desc":"asc",onClick:function(){var e=Object(u.a)({},H,Object(o.a)({},t,-(H[t]||1)));N(e),W({sortData:e})}},t)):t)}),m.a.createElement(O.a,null,"action"))),m.a.createElement(p.a,null,D.map(function(a){return m.a.createElement(h.a,{key:a.id},R.map(function(e){var t=e.name,n=e.path,r=e.formatData,c=void 0===r?function(e){return e}:r;return m.a.createElement(O.a,{key:"tableBody".concat(t)},c(d()(a,n||t)))}),m.a.createElement(O.a,null,m.a.createElement(C.a,{variant:"outlined",onClick:A(a)},"edit"),m.a.createElement(C.a,{variant:"outlined",onClick:function(){n.showConfirm({message:"Are you sure",callBack:function(){var e=Object(c.a)(r.a.mark(function e(t){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,F({id:a.id});case 4:J();case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()})}},"del"),d()(e,"btns",[]).map(function(e){return m.a.createElement(C.a,{key:"btns".concat(e.name),variant:"outlined",onClick:function(){return e.handleClick(a,t)}},e.name)})))}))),m.a.createElement(re,Object.assign({},T,{count:~~S,refresh:J}))),m.a.createElement(Z,Object.assign({refetch:J,editType:I,updateSchema:e.updateGql,dealEditData:e.dealEditData},M)))}}}}]);
//# sourceMappingURL=2.70df1f32.chunk.js.map