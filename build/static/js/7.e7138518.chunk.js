(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{5801:function(e,a,n){"use strict";n.r(a),n.d(a,"DictList",function(){return l});var t=n(5813),i=n(5883),r=n(5881),c=[{name:"name"},{name:"code",sort:!0},{name:"type"},{name:"id"},{name:"date",formatData:function(e){return Object(i.a)(new Date(e),"yyyy/MM/dd HH:mm")}},{name:"message"}],l=Object(t.a)({allDataGql:r.allDataDict,queryListGql:r.allDict,deleteGql:r.deleteOneDict,updateGql:r.updateDict,dataListName:"allDict",editType:[{name:"name"},{name:"code"},{name:"type"},{name:"message"},{name:"date",type:"DatePicker"}],columns:c});a.default=l},5813:function(e,a,n){"use strict";var t=n(24),i=n.n(t),r=n(28),c=n(10),l=n(30),d=n(19),o=n(0),u=n.n(o),m=n(5815),s=n.n(m),v=n(254),f=n.n(v),k=n(258),p=n.n(k),D=n(129),b=n.n(D),g=n(255),E=n.n(g),O=n(256),S=n.n(O),N=n(257),y=n.n(N),j=n(127),h=n(5819),w=n(43),F=n(32),C=n.n(F),P=n(87),q=n.n(P),x=n(90),T=n.n(x),V=n(89),$=n.n(V),G=n(88),L=n.n(G),A=n(63),H=n.n(A),I=n(183),B=n.n(I),J=n(128),M=n.n(J),z=n(65),Q=n.n(z),R=n(86),W=n.n(R),K=n(5820),U=n(5818),X=function(e){var a=e.name,n=e.type,t=e.editData,i=e.setEditData,r=e.options,o=void 0===r?[]:r,m=function(e){return i(Object(l.a)({},t,e))};return"Select"===n?u.a.createElement(u.a.Fragment,null,u.a.createElement(Q.a,{shrink:!!t[a]},a),u.a.createElement(W.a,{value:t[a]||"",onChange:function(e){return m(Object(c.a)({},a,e.target.value))}},o.map(function(e){var a=Object(d.a)(e,2),n=a[0],t=a[1];return u.a.createElement(M.a,{key:n,value:n},t)}))):"DatePicker"===n?u.a.createElement(K.b,{utils:U.a},u.a.createElement(K.a,{label:a,value:t[a],onChange:function(e){return m(Object(c.a)({},a,e))}})):u.a.createElement(B.a,{label:a,value:t[a]||"",multiline:e.multiline,rows:e.rows,onChange:function(e){return m(Object(c.a)({},a,e.target.value))}})},Y=function(e){var a=e.typeName,n=void 0===a?"data":a,t=e.updateSchema,o=e.editType,m=e.refetch,s=e.showEdit,v=e.setEditData,f=e.editData,k=e.setShowEdit,p=e.dealEditData,D=void 0===p?function(e){return e}:p,b=Object(j.a)(t),g=Object(d.a)(b,3),E=g[0],O=g[2];return u.a.createElement(q.a,{open:s,onClose:function(){return k(!1)}},u.a.createElement(T.a,null,"EDIT"),u.a.createElement(L.a,null,u.a.createElement("form",null,o.map(function(e){var a=e.name;return u.a.createElement(H.a,{fullWidth:!0,key:"edit".concat(a)},X(Object(l.a)({},e,{editData:f,setEditData:v})))}))),u.a.createElement($.a,null,u.a.createElement(C.a,{onClick:Object(r.a)(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E(Object(c.a)({},n,D(f)));case 2:k(!1),m();case 4:case"end":return e.stop()}},e,this)}))},O?"loading":"save"),u.a.createElement(C.a,{onClick:function(){return k(!1)}},"cancel")))},Z=n(57),_=n(58);function ee(){var e=Object(Z.a)(["\n    &&& {\n      min-width: 120px;\n      margin-left: 20px;\n    }\n"]);return ee=function(){return e},e}var ae={FormControl:Object(_.a)(H.a)(ee())},ne=function(e){var a=e.setFormData,n=e.formData,t=e.formColumn,i=e.onSubmit,r=void 0===i?function(){}:i;return u.a.createElement("form",{onSubmit:function(e){e.preventDefault(),r()}},t.map(function(e){var t=Object(d.a)(e,3),i=t[0],r=t[1],c=t[2];return u.a.createElement(ae.FormControl,{key:"SearchForm".concat(i)},X({name:i,type:r,options:c,editData:n,setEditData:a}))}))},te=n(85),ie=function(e){var a=e.pageData,n=e.setPageData,t=e.count,i=e.refresh,r=void 0===i?function(){}:i;return u.a.createElement(te.g,{component:"div",rowsPerPageOptions:[5,10,25],count:t,rowsPerPage:a.rowsPerPage||10,page:a.page||0,onChangePage:function(e,a){n({page:a}),r({page:a})},onChangeRowsPerPage:function(e){n({rowsPerPage:e.target.value}),r({rowsPerPage:e.target.value})}})},re=n(49),ce=n.n(re);function le(){var e=Object(Z.a)(["\n  text-align: center;\n"]);return le=function(){return e},e}function de(){var e=Object(Z.a)(["\n  display: flex;\n"]);return de=function(){return e},e}function oe(){var e=Object(Z.a)(["\n  padding: 10px;\n"]);return oe=function(){return e},e}var ue={};ue.TableSection=Object(_.a)(ce.a)(oe()),ue.Header=Object(_.a)("header")(de()),ue.Loading=Object(_.a)("section")(le()),n.d(a,"a",function(){return me});var me=function(e){return function(a){var n=Object(w.a)(),t=Object(d.a)(n,1)[0],m=Object(j.b)(e.queryListGql),v=Object(d.a)(m,3),k=v[0],D=v[1],g=D[e.dataListName],O=void 0===g?[]:g,N=D.total,F=void 0===N?0:N,C=v[2],P=Object(j.a)(e.deleteGql),q=Object(d.a)(P,1)[0],x=function(){var e=Object(o.useState)({}),a=Object(d.a)(e,2),n=a[0];return{setFormData:a[1],formData:n}}(),T=function(){var e=Object(o.useState)({page:0,rowsPerPage:10}),a=Object(d.a)(e,2),n=a[0],t=a[1];return{pageData:n,setPageData:function(e){return t(Object(l.a)({},n,e))}}}(),V=u.a.useState({}),$=Object(d.a)(V,2),G=$[0],L=$[1],A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return k({data:Object(l.a)({},x.formData,{sortData:G},T.pageData,e)})};Object(o.useEffect)(function(){A()},[]);var H=function(){var e=Object(o.useState)(!1),a=Object(d.a)(e,2),n=a[0],t=a[1],i=Object(o.useState)({}),r=Object(d.a)(i,2),c=r[0],l=r[1];return{editClick:function(e){return function(){l(e),t(!0)}},showEdit:n,setEditData:l,editData:c,setShowEdit:t}}(),I=H.editClick,B=e.editType,J=e.columns,M=function(e){T.setPageData({page:0}),A(Object(l.a)({page:0},e))};return u.a.createElement(u.a.Fragment,null,u.a.createElement(ue.TableSection,null,u.a.createElement(ue.Header,null,u.a.createElement(h.a,{variant:"outlined",onClick:I({})},"add"),e.formColumn&&u.a.createElement(u.a.Fragment,null,u.a.createElement(ne,Object.assign({formColumn:e.formColumn,onSubmit:function(){return M()}},x)),u.a.createElement(h.a,{onClick:function(){return M()}},"search"))),C?u.a.createElement(ue.Loading,null,u.a.createElement(te.b,null)):u.a.createElement(f.a,null,u.a.createElement(E.a,null,u.a.createElement(S.a,null,J.map(function(e){var a=e.name,n=e.sort;return u.a.createElement(b.a,{key:"tableHead".concat(a)},n?u.a.createElement(y.a,{title:"sort"},u.a.createElement(te.h,{active:!0,direction:-1===G[a]?"desc":"asc",onClick:function(){var e=Object(l.a)({},G,Object(c.a)({},a,-(G[a]||1)));L(e),M({sortData:e})}},a)):a)}),u.a.createElement(b.a,null,"action"))),u.a.createElement(p.a,null,O.map(function(n){return u.a.createElement(S.a,{key:n.id},J.map(function(e){var a=e.name,t=e.path,i=e.formatData,r=void 0===i?function(e){return e}:i;return u.a.createElement(b.a,{key:"tableBody".concat(a)},r(s()(n,t||a)))}),u.a.createElement(b.a,null,u.a.createElement(h.a,{variant:"outlined",onClick:I(n)},"edit"),u.a.createElement(h.a,{variant:"outlined",onClick:function(){t.showConfirm({message:"Are you sure",callBack:function(){var e=Object(r.a)(i.a.mark(function e(a){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,q({id:n.id});case 4:A();case 5:case"end":return e.stop()}},e,this)}));return function(a){return e.apply(this,arguments)}}()})}},"del"),s()(e,"btns",[]).map(function(e){return u.a.createElement(h.a,{key:"btns".concat(e.name),variant:"outlined",onClick:function(){return e.handleClick(n,a)}},e.name)})))}))),u.a.createElement(ie,Object.assign({},T,{count:~~F,refresh:A}))),u.a.createElement(Y,Object.assign({refetch:A,editType:B,updateSchema:e.updateGql,dealEditData:e.dealEditData},H)))}}},5881:function(e,a){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"dictF"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Dict"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"date"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"updateDict"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"DictInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateDict"},arguments:[{kind:"Argument",name:{kind:"Name",value:"data"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"dictF"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"deleteOneDict"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deleteOneDict"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[]}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"oneDict"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"oneDict"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"dictF"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"allDict"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NamedType",name:{kind:"Name",value:"DictInput"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"allDict"},arguments:[{kind:"Argument",name:{kind:"Name",value:"data"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"dictF"},directives:[]}]}},{kind:"Field",alias:{kind:"Name",value:"total"},name:{kind:"Name",value:"totalDict"},arguments:[{kind:"Argument",name:{kind:"Name",value:"data"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],directives:[]}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"allDataDict"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"allData"},name:{kind:"Name",value:"allDataDict"},arguments:[],directives:[]}]}}],loc:{start:0,end:533}};n.loc.source={body:"fragment dictF on Dict {\r\n    id\r\n    name\r\n    code\r\n    type\r\n    date\r\n    message\r\n}\r\n\r\nmutation updateDict($data: DictInput!){\r\n    updateDict(data: $data) {\r\n        ... dictF\r\n    }\r\n}\r\n\r\nmutation deleteOneDict($id: String!){\r\n    deleteOneDict(id: $id)\r\n}\r\n\r\nquery oneDict($id: String!){\r\n    oneDict(id: $id) {\r\n        ... dictF\r\n    }\r\n}\r\n\r\nquery allDict($data: DictInput){\r\n    allDict(data: $data) {\r\n        ... dictF\r\n    }\r\n    total: totalDict(data: $data)\r\n}\r\n\r\nquery allDataDict{\r\n    allData: allDataDict\r\n}\r\n\r\n\r\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var t={};function i(e,a){for(var n=0;n<e.definitions.length;n++){var t=e.definitions[n];if(t.name&&t.name.value==a)return t}}function r(e,a){var n={kind:e.kind,definitions:[i(e,a)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=t[a]||new Set,c=new Set,l=new Set;for(r.forEach(function(e){l.add(e)});l.size>0;){var d=l;l=new Set,d.forEach(function(e){c.has(e)||(c.add(e),(t[e]||new Set).forEach(function(e){l.add(e)}))})}return c.forEach(function(a){var t=i(e,a);t&&n.definitions.push(t)}),n}n.definitions.forEach(function(e){if(e.name){var a=new Set;!function e(a,n){if("FragmentSpread"===a.kind)n.add(a.name.value);else if("VariableDefinition"===a.kind){var t=a.type;"NamedType"===t.kind&&n.add(t.name.value)}a.selectionSet&&a.selectionSet.selections.forEach(function(a){e(a,n)}),a.variableDefinitions&&a.variableDefinitions.forEach(function(a){e(a,n)}),a.definitions&&a.definitions.forEach(function(a){e(a,n)})}(e,a),t[e.name.value]=a}}),e.exports=n,e.exports.updateDict=r(n,"updateDict"),e.exports.deleteOneDict=r(n,"deleteOneDict"),e.exports.oneDict=r(n,"oneDict"),e.exports.allDict=r(n,"allDict"),e.exports.allDataDict=r(n,"allDataDict")}}]);
//# sourceMappingURL=7.e7138518.chunk.js.map