{"version":3,"sources":["../index).*/.js$/i","api/login.js","api/menu.js","common/global.js","common/plugins/axios.js","common/token.js","common/history.js","component/Message/index.js","common/apolloCLient.js","api/index.js","views/Login/index.js","views/Home/index.js","views/index.js","Routers.js","serviceWorker.js","index.js"],"names":["map","./login.js","./menu.js","webpackContext","req","id","webpackContextResolve","__webpack_require__","e","Error","code","keys","Object","resolve","module","exports","r","__webpack_exports__","d","login","omLogi","data","arguments","length","undefined","axios","post","getMenuEnum","getMenuAllList","getMenuDetail","saveMenu","saveFunctions","deleteMenu","window","defaults","timeout","withCredentials","interceptors","request","use","_ref","asyncToGenerator","regenerator_default","a","mark","_callee","config","wrap","_context","prev","next","headers","abrupt","stop","this","_x","apply","setToken","token","localStorage","setItem","createBrowserHistory","showMessage","message","open","CreateMessageObj","_useState","useState","_useState2","slicedToArray","setOpen","_useState3","_useState4","setMessage","_ref2","_ref2$open","react_default","createElement","Snackbar_default","autoHideDuration","onClose","client","ApolloClient","uri","operation","setContext","_ref$headers","objectSpread","Authorization","getItem","onError","graphQLErrors","networkError","_ref3","locations","path","console","log","concat","bodyText","statusCode","history","push","files","require","reduce","i","forEach","e1","withStyles","theme","main","defineProperty","width","display","marginLeft","spacing","unit","marginRight","breakpoints","up","paper","marginTop","flexDirection","alignItems","padding","avatar","margin","backgroundColor","palette","secondary","form","submit","props","classes","name","setName","password","setPassword","res","api","sent","className","CssBaseline_default","Paper_default","Avatar_default","LockOutlined_default","Typography_default","component","variant","FormControl_default","required","fullWidth","InputLabel_default","htmlFor","Input_default","autoComplete","autoFocus","value","onChange","target","type","FormControlLabel_default","control","Checkbox_default","color","label","Button_default","onClick","views","Login","react_apollo_browser_umd","query","gql","_templateObject","loading","error","allUser","key","About","NoMatch","Boolean","location","hostname","match","ReactDOM","render","Router","Switch","Redirect","exact","from","to","Route","Routes","layout","assign","Message_CreateMessageObj","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"yIAAA,IAAAA,EAAA,CACAC,aAAA,IACAC,YAAA,KAIA,SAAAC,EAAAC,GACA,IAAAC,EAAAC,EAAAF,GACA,OAAAG,EAAAF,GAEA,SAAAC,EAAAF,GACA,IAAAC,EAAAL,EAAAI,GACA,KAAAC,EAAA,IACA,IAAAG,EAAA,IAAAC,MAAA,uBAAAL,EAAA,KAEA,MADAI,EAAAE,KAAA,mBACAF,EAEA,OAAAH,EAEAF,EAAAQ,KAAA,WACA,OAAAC,OAAAD,KAAAX,IAEAG,EAAAU,QAAAP,EACAQ,EAAAC,QAAAZ,EACAA,EAAAE,GAAA,sCCxBAE,EAAAS,EAAAC,GAAAV,EAAAW,EAAAD,EAAA,0BAAAE,IAAAZ,EAAAW,EAAAD,EAAA,2BAAAG,IACO,IAAMD,EAAQ,eAACE,EAADC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAQ,GAAR,OACjBG,MAAMC,KAAK,aAAcL,IAGhBD,EAAS,eAACC,EAADC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAQ,GAAR,OAClBG,MAAMC,KAAK,0BAA2BL,sCCN1Cd,EAAAS,EAAAC,GAAAV,EAAAW,EAAAD,EAAA,gCAAAU,IAAApB,EAAAW,EAAAD,EAAA,mCAAAW,IAAArB,EAAAW,EAAAD,EAAA,kCAAAY,IAAAtB,EAAAW,EAAAD,EAAA,6BAAAa,IAAAvB,EAAAW,EAAAD,EAAA,kCAAAc,IAAAxB,EAAAW,EAAAD,EAAA,+BAAAe,IACO,IAAML,EAAc,eAACN,EAADC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAQ,GAAR,OACvBG,MAAMC,KAAK,wBAAyBL,IAG3BO,EAAiB,eAACP,EAADC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAQ,GAAR,OAC1BG,MAAMC,KAAK,uBAAwBL,IAG1BQ,EAAgB,eAACR,EAADC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAQ,GAAR,OACzBG,MAAMC,KAAK,sBAAuBL,IAGzBS,EAAW,eAACT,EAADC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAQ,GAAR,OACpBG,MAAMC,KAAK,oBAAqBL,IAGvBU,EAAgB,eAACV,EAADC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAQ,GAAR,OACzBG,MAAMC,KAAK,6BAA8BL,IAGhCW,EAAa,eAACX,EAADC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAQ,GAAR,OACtBG,MAAMC,KAAK,sBAAuBL,mECpBtCY,OAAOR,MAAQA,iCCDfA,MAAMS,SAASC,QAAU,EACzBV,MAAMS,SAASE,iBAAkB,EACjCX,MAAMY,aAAaC,QAAQC,IAA3B,eAAAC,EAAA5B,OAAA6B,EAAA,EAAA7B,CAAA8B,EAAAC,EAAAC,KACI,SAAAC,EAAMC,GAAN,OAAAJ,EAAAC,EAAAI,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cACEJ,EAAOK,QAAQ,oBAAsB,iBADvCH,EAAAI,OAAA,SAGSN,GAHT,wBAAAE,EAAAK,SAAAR,EAAAS,SADJ,gBAAAC,GAAA,OAAAf,EAAAgB,MAAAF,KAAAhC,YAAA,+GCHamC,EAAW,SAAAC,GAAK,OAAIC,aAAaC,QAAQ,QAASF,YCEhDG,0CCCJC,EAAc,SAAAtB,GAAuBA,EAApBuB,QAAoBvB,EAAXwB,MAExBC,EAAmB,WAAM,IAAAC,EACZC,oBAAS,GADGC,EAAAxD,OAAAyD,EAAA,EAAAzD,CAAAsD,EAAA,GAC7BF,EAD6BI,EAAA,GACvBE,EADuBF,EAAA,GAAAG,EAENJ,mBAAS,IAFHK,EAAA5D,OAAAyD,EAAA,EAAAzD,CAAA2D,EAAA,GAE7BR,EAF6BS,EAAA,GAEpBC,EAFoBD,EAAA,GAQpC,OALAV,EAAc,SAAAY,GAA8B,IAA3BX,EAA2BW,EAA3BX,QAA2BY,EAAAD,EAAlBV,YAAkB,IAAAW,KAC1CF,EAAWV,GACXO,EAAQN,IAGHY,EAAAjC,EAAAkC,cAACC,EAAAnC,EAAD,CAAUqB,KAAMA,EACND,QAASA,EACTgB,iBAAkB,IAClBC,QAAS,kBAAMV,GAAQ,OCe7BW,EAAS,IAAIC,IAAa,CAErCC,IAAK,OACL7C,QA7Bc,SAAC8C,GACfA,EAAUC,WAAW,SAAA7C,GAAA,IAAA8C,EAAA9C,EAAGW,eAAH,IAAAmC,EAAa,GAAbA,EAAA,MAAuB,CAC1CnC,QAAQvC,OAAA2E,EAAA,EAAA3E,CAAA,GACHuC,EADE,CAELqC,cHPwB7B,aAAa8B,QAAQ,UAAY,SGiC7DC,QArBc,SAAAhB,GAAqC,IAAlCiB,EAAkCjB,EAAlCiB,cAAeC,EAAmBlB,EAAnBkB,aAC5BD,GACFA,EAAc3F,IAAI,SAAA6F,GAAA,IAAG9B,EAAH8B,EAAG9B,QAAS+B,EAAZD,EAAYC,UAAWC,EAAvBF,EAAuBE,KAAvB,OACdC,QAAQC,IAAR,6BAAAC,OACiCnC,EADjC,gBAAAmC,OACuDJ,EADvD,YAAAI,OAC2EH,MAI7EH,IACFI,QAAQC,IAAR,oBAAAC,OAAgCN,EAAaO,WACb,MAA5BP,EAAaQ,aACftC,EAAY,CAACC,QAAS,mCACtBsC,EAAQC,KAAK,uOC1BbC,EAAQC,OAECD,KAAM5F,OAAO8F,OAAO,SAACC,EAAGlG,GAMrC,OALAI,OAAOD,KAAK4F,EAAM/F,IAAImG,QAAQ,SAAAC,GAC5B,GAAIF,EAAEE,GACJ,MAAM,IAAInG,MAAJ,GAAAyF,OAAaU,EAAb,qGAGHhG,OAAA2E,EAAA,EAAA3E,CAAA,GACF8F,EACAH,EAAM/F,KAEV,ICqHYqG,WA/GA,SAAAC,GAAK,MAAK,CACvBC,KAAKnG,OAAAoG,EAAA,EAAApG,CAAA,CACHqG,MAAO,OACPC,QAAS,QACTC,WAAiC,EAArBL,EAAMM,QAAQC,KAC1BC,YAAkC,EAArBR,EAAMM,QAAQC,MAC1BP,EAAMS,YAAYC,GAAG,IAA2B,EAArBV,EAAMM,QAAQC,KAAW,GAAK,CACxDJ,MAAO,IACPE,WAAY,OACZG,YAAa,SAGjBG,MAAO,CACLC,UAAgC,EAArBZ,EAAMM,QAAQC,KACzBH,QAAS,OACTS,cAAe,SACfC,WAAY,SACZC,QAAO,GAAA3B,OAA0B,EAArBY,EAAMM,QAAQC,KAAnB,OAAAnB,OAAsD,EAArBY,EAAMM,QAAQC,KAA/C,OAAAnB,OAAkF,EAArBY,EAAMM,QAAQC,KAA3E,OAETS,OAAQ,CACNC,OAAQjB,EAAMM,QAAQC,KACtBW,gBAAiBlB,EAAMmB,QAAQC,UAAUnB,MAE3CoB,KAAM,CACJlB,MAAO,OACPS,UAAWZ,EAAMM,QAAQC,MAE3Be,OAAQ,CACNV,UAAgC,EAArBZ,EAAMM,QAAQC,QAmFdR,CA/Ef,SAAgBwB,GAAO,IACbC,EAAqBD,EAArBC,QAASjC,EAAYgC,EAAZhC,QADInC,EAGGC,mBAAS,SAHZC,EAAAxD,OAAAyD,EAAA,EAAAzD,CAAAsD,EAAA,GAGdqE,EAHcnE,EAAA,GAGRoE,EAHQpE,EAAA,GAAAG,EAIWJ,mBAAS,UAJpBK,EAAA5D,OAAAyD,EAAA,EAAAzD,CAAA2D,EAAA,GAIdkE,EAJcjE,EAAA,GAIJkE,EAJIlE,EAAA,GAMf4D,EAAM,eAAA5F,EAAA5B,OAAA6B,EAAA,EAAA7B,CAAA8B,EAAAC,EAAAC,KAAG,SAAAC,EAAOxB,GAAP,IAAAqD,EAAAiE,EAAA,OAAAjG,EAAAC,EAAAI,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EACe0F,GAAIzH,MAAME,GADzB,OAAAqD,EAAA1B,EAAA6F,MACCF,EADDjE,EACLrD,MACAA,MACNoC,EAASkF,EAAIjF,OACbI,EAAY,CAAEE,MAAM,EAAMD,QAAS4E,EAAI5E,UACvCsC,EAAQC,KAAK,SAEbxC,EAAY,CAAEE,MAAM,EAAMD,QAAS4E,EAAI5E,UAP5B,wBAAAf,EAAAK,SAAAR,EAAAS,SAAH,gBAAAC,GAAA,OAAAf,EAAAgB,MAAAF,KAAAhC,YAAA,GAWZ,OACIsD,EAAAjC,EAAAkC,cAAA,QAAMiE,UAAWR,EAAQvB,MACvBnC,EAAAjC,EAAAkC,cAACkE,EAAApG,EAAD,MACAiC,EAAAjC,EAAAkC,cAACmE,EAAArG,EAAD,CAAOmG,UAAWR,EAAQb,OACxB7C,EAAAjC,EAAAkC,cAACoE,EAAAtG,EAAD,CAAQmG,UAAWR,EAAQR,QACzBlD,EAAAjC,EAAAkC,cAACqE,EAAAvG,EAAD,OAEFiC,EAAAjC,EAAAkC,cAACsE,EAAAxG,EAAD,CAAYyG,UAAU,KACVC,QAAQ,MADpB,WAKAzE,EAAAjC,EAAAkC,cAAA,QAAMiE,UAAWR,EAAQH,MACvBvD,EAAAjC,EAAAkC,cAACyE,EAAA3G,EAAD,CAAaoF,OAAO,SACPwB,UAAQ,EACRC,WAAS,GAEpB5E,EAAAjC,EAAAkC,cAAC4E,EAAA9G,EAAD,CAAY+G,QAAQ,SAApB,iBACA9E,EAAAjC,EAAAkC,cAAC8E,EAAAhH,EAAD,CAAOtC,GAAG,QACHkI,KAAK,QACLqB,aAAa,QACbC,WAAS,EACTC,MAAOvB,EACPwB,SAAU,SAAAvJ,GAAC,OAAIgI,EAAQhI,EAAEwJ,OAAOF,WAGzClF,EAAAjC,EAAAkC,cAACyE,EAAA3G,EAAD,CAAaoF,OAAO,SACPwB,UAAQ,EACRC,WAAS,GAEpB5E,EAAAjC,EAAAkC,cAAC4E,EAAA9G,EAAD,CAAY+G,QAAQ,YAApB,YACA9E,EAAAjC,EAAAkC,cAAC8E,EAAAhH,EAAD,CAAO4F,KAAK,WACL0B,KAAK,WACL5J,GAAG,WACHuJ,aAAa,mBACbE,MAAOrB,EACPsB,SAAU,SAAAvJ,GAAC,OAAIkI,EAAYlI,EAAEwJ,OAAOF,WAG7ClF,EAAAjC,EAAAkC,cAACqF,EAAAvH,EAAD,CAAkBwH,QAASvF,EAAAjC,EAAAkC,cAACuF,EAAAzH,EAAD,CAAUmH,MAAM,WACNO,MAAM,YAEzBC,MAAM,gBAExB1F,EAAAjC,EAAAkC,cAAC0F,EAAA5H,EAAD,CAAQ6G,WAAS,EACTH,QAAQ,YACRgB,MAAM,UACNvB,UAAWR,EAAQF,OACnBoC,QAAS,kBAAMpC,EAAO,CAAEG,OAAME,eAJtC,wNC3GG,ICDAgC,GAAA,CAAC,CACdpC,MAAO,CACLtC,KAAM,SACNqD,UAAWsB,KAEZ,CACDrC,MAAO,CACLtC,KAAM,QACNqD,UDPW,WACb,OACIxE,EAAAjC,EAAAkC,cAAC8F,EAAA,MAAD,CAAOC,MAAOC,KAAFC,OAQT,SAAAtI,GAA8B,IAA3BuI,EAA2BvI,EAA3BuI,QAASC,EAAkBxI,EAAlBwI,MAAO3J,EAAWmB,EAAXnB,KAClB,OAAI0J,EAAgBnG,EAAAjC,EAAAkC,cAAA,uBAChBmG,EAAcpG,EAAAjC,EAAAkC,cAAA,qBACXxD,EAAK4J,QAAQjL,IAAI,SAAA0E,GAAA,IAAG6D,EAAH7D,EAAG6D,KAAMlI,EAATqE,EAASrE,GAAT,OACpBuE,EAAAjC,EAAAkC,cAAA,OAAKqG,IAAK7K,GACRuE,EAAAjC,EAAAkC,cAAA,SAAIxE,EAAJ,KAAUkI,YEcpB4C,GAAQ,kBACVvG,EAAAjC,EAAAkC,cAAA,WACED,EAAAjC,EAAAkC,cAAA,qBAIAuG,GAAU,kBACZxG,EAAAjC,EAAAkC,cAAA,WACED,EAAAjC,EAAAkC,cAAA,mBC7BcwG,QACW,cAA7BpJ,OAAOqJ,SAASC,UAEe,UAA7BtJ,OAAOqJ,SAASC,UAEhBtJ,OAAOqJ,SAASC,SAASC,MACvB,2DCVNC,IAASC,OAAO9G,EAAAjC,EAAAkC,cFAD,kBAEPD,EAAAjC,EAAAkC,cAAC8F,EAAA,eAAD,CAAgB7B,UAAU,MACV7D,OAAQA,GAEtBL,EAAAjC,EAAAkC,cAAC8G,EAAA,EAAD,CAAQtF,QAASA,GACfzB,EAAAjC,EAAAkC,cAAC+G,EAAA,EAAD,KACEhH,EAAAjC,EAAAkC,cAACgH,EAAA,EAAD,CAAUC,OAAK,EACRC,KAAK,IACLC,GAAG,UAEVpH,EAAAjC,EAAAkC,cAACoH,EAAA,EAAD,CAAOlG,KAAK,SACLqD,UAAW+B,KAEjBe,GAAOlM,IAAI,SAAAwC,GAAA,IAAG6F,EAAH7F,EAAG6F,MAAH,OAAeA,EAAM8D,OAC7BvH,EAAAjC,EAAAkC,cAACwD,EAAM8D,OAAP,KAAcvH,EAAAjC,EAAAkC,cAACoH,EAAA,EAADrL,OAAAwL,OAAA,GAAW/D,EAAX,CAAkB6C,IAAK7C,EAAMtC,SAC3CnB,EAAAjC,EAAAkC,cAACoH,EAAA,EAADrL,OAAAwL,OAAA,GAAW/D,EAAX,CAAkB6C,IAAK7C,EAAMtC,UAEjCnB,EAAAjC,EAAAkC,cAACoH,EAAA,EAAD,CAAO7C,UAAWgC,OAGtBxG,EAAAjC,EAAAkC,cAACwH,EAAD,QErBM,MAAaC,SAASC,eAAe,SDyH/C,kBAAmBC,WACrBA,UAAUC,cAAcC,MAAMC,KAAK,SAAAC,GACjCA,EAAaC","file":"static/js/main.ce78f27d.chunk.js","sourcesContent":["var map = {\n\t\"./login.js\": 239,\n\t\"./menu.js\": 240\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) { // check for number or string\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn id;\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 238;","// OM登录\r\nexport const login = (data = {}) =>\r\n    axios.post('/api/login', data)\r\n\r\n// OM登录\r\nexport const omLogi = (data = {}) =>\r\n    axios.post('/api/om/account/omLogin', data)\r\n\r\n","// 获取菜单枚举数据\r\nexport const getMenuEnum = (data = {}) =>\r\n    axios.post('/api/om/Menu/typeList', data)\r\n\r\n// 获取平台端菜单\r\nexport const getMenuAllList = (data = {}) =>\r\n    axios.post('/api/om/Menu/AllList', data)\r\n\r\n// 菜单详情\r\nexport const getMenuDetail = (data = {}) =>\r\n    axios.post('/api/om/menu/detail', data)\r\n\r\n// 保存菜单\r\nexport const saveMenu = (data = {}) =>\r\n    axios.post('/api/om/menu/save', data)\r\n\r\n// 保存菜单功能数据\r\nexport const saveFunctions = (data = {}) =>\r\n    axios.post('/api/om/menu/saveFunctions', data)\r\n\r\n// 删除菜单\r\nexport const deleteMenu = (data = {}) =>\r\n    axios.post('/api/om/menu/delete', data)\r\n\r\n","import axios from 'axios'\r\n\r\nwindow.axios = axios\r\n","\r\naxios.defaults.timeout = 0\r\naxios.defaults.withCredentials = true\r\naxios.interceptors.request.use(\r\n    async config => {\r\n      config.headers['X-Requested-With'] = 'XMLHttpRequest'\r\n      // config.headers['Authorization'] = 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjEyMyIsImlhdCI6MTU1MDAzODQyMCwiZXhwIjoxNTUwMjExMjIwfQ.4425yGKLu9zhEvMTatG-6MUYPUisNsbfH0b1IfmCygg'\r\n      return config\r\n    }\r\n)\r\n","export const setToken = token => localStorage.setItem('token', token)\r\n\r\nexport const getToken = () => localStorage.getItem('token') || ''\r\n","import { createBrowserHistory } from 'history';\r\n\r\nexport default createBrowserHistory();\r\n","import React, { useState } from 'react'\r\nimport Snackbar from '@material-ui/core/Snackbar'\r\n\r\nexport let showMessage = ({ message, open }) => {}\r\n\r\nexport const CreateMessageObj = () => {\r\n  const [open, setOpen] = useState(false)\r\n  const [message, setMessage] = useState('')\r\n  showMessage = ({ message, open = true }) => {\r\n    setMessage(message)\r\n    setOpen(open)\r\n  }\r\n\r\n  return <Snackbar open={open}\r\n                   message={message}\r\n                   autoHideDuration={1000}\r\n                   onClose={() => setOpen(false)}\r\n  />\r\n}\r\n\r\nexport default {\r\n  showMessage,\r\n  CreateMessageObj,\r\n}\r\n","import ApolloClient from 'apollo-boost'\r\nimport { getToken } from '@/common/token'\r\nimport history from '@/common/history'\r\nimport { showMessage } from '@/component/Message'\r\n\r\nconst request = (operation) => {\r\n  operation.setContext(({ headers = {} }) => ({\r\n    headers: {\r\n      ...headers,\r\n      Authorization: getToken(),\r\n    }\r\n  }));\r\n}\r\n\r\nconst onError = ({ graphQLErrors, networkError }) => {\r\n  if (graphQLErrors)\r\n    graphQLErrors.map(({ message, locations, path }) =>\r\n        console.log(\r\n            `[GraphQL error]: Message: ${message}, Location: ${locations}, Path: ${path}`,\r\n        ),\r\n    );\r\n\r\n  if (networkError) {\r\n    console.log(`[Network error]: ${networkError.bodyText}`);\r\n    if (networkError.statusCode === 401) {\r\n      showMessage({message: '请重新登录'})\r\n      history.push('login')\r\n    }\r\n  }\r\n}\r\n\r\nexport const client = new ApolloClient({\r\n  // link,\r\n  uri: \"/api\",\r\n  request,\r\n  onError,\r\n  // link: createHttpLink({ uri: \"/sdfsf\" }),\r\n});\r\n\r\nexport default {\r\n  client\r\n}\r\n","const files = require.context('./', true, /^\\.\\/(?!index).*\\.js$/i)\r\n\r\nexport default files.keys().reduce((i, e) => {\r\n  Object.keys(files(e)).forEach(e1 => {\r\n    if (i[e1]) {\r\n      throw new Error(`${e1} api名称存在，为避免冲突请更换名称`)\r\n    }\r\n  })\r\n  return {\r\n    ...i,\r\n    ...files(e),\r\n  }\r\n}, {})\r\n","import React, { useState } from 'react'\r\nimport PropTypes from 'prop-types';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport Input from '@material-ui/core/Input';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport withStyles from '@material-ui/core/styles/withStyles';\r\nimport api from '@/api'\r\nimport { setToken } from '@/common/token'\r\nimport { showMessage } from '@/component/Message'\r\n\r\nconst styles = theme => ({\r\n  main: {\r\n    width: 'auto',\r\n    display: 'block', // Fix IE 11 issue.\r\n    marginLeft: theme.spacing.unit * 3,\r\n    marginRight: theme.spacing.unit * 3,\r\n    [theme.breakpoints.up(400 + theme.spacing.unit * 3 * 2)]: {\r\n      width: 400,\r\n      marginLeft: 'auto',\r\n      marginRight: 'auto',\r\n    },\r\n  },\r\n  paper: {\r\n    marginTop: theme.spacing.unit * 8,\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    padding: `${theme.spacing.unit * 2}px ${theme.spacing.unit * 3}px ${theme.spacing.unit * 3}px`,\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing.unit,\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing.unit,\r\n  },\r\n  submit: {\r\n    marginTop: theme.spacing.unit * 3,\r\n  },\r\n});\r\n\r\nfunction SignIn(props) {\r\n  const { classes, history } = props;\r\n\r\n  const [name, setName] = useState('admin')\r\n  const [password, setPassword] = useState('123456')\r\n\r\n  const submit = async (data) => {\r\n    const { data: res } = await api.login(data)\r\n    if (res.data) {\r\n      setToken(res.token)\r\n      showMessage({ open: true, message: res.message })\r\n      history.push('home')\r\n    } else {\r\n      showMessage({ open: true, message: res.message })\r\n    }\r\n  }\r\n\r\n  return (\r\n      <main className={classes.main}>\r\n        <CssBaseline/>\r\n        <Paper className={classes.paper}>\r\n          <Avatar className={classes.avatar}>\r\n            <LockOutlinedIcon/>\r\n          </Avatar>\r\n          <Typography component=\"h1\"\r\n                      variant=\"h5\"\r\n          >\r\n            Sign in\r\n          </Typography>\r\n          <form className={classes.form}>\r\n            <FormControl margin=\"normal\"\r\n                         required\r\n                         fullWidth\r\n            >\r\n              <InputLabel htmlFor=\"email\">Email Address</InputLabel>\r\n              <Input id=\"email\"\r\n                     name=\"email\"\r\n                     autoComplete=\"email\"\r\n                     autoFocus\r\n                     value={name}\r\n                     onChange={e => setName(e.target.value)}\r\n              />\r\n            </FormControl>\r\n            <FormControl margin=\"normal\"\r\n                         required\r\n                         fullWidth\r\n            >\r\n              <InputLabel htmlFor=\"password\">Password</InputLabel>\r\n              <Input name=\"password\"\r\n                     type=\"password\"\r\n                     id=\"password\"\r\n                     autoComplete=\"current-password\"\r\n                     value={password}\r\n                     onChange={e => setPassword(e.target.value)}\r\n              />\r\n            </FormControl>\r\n            <FormControlLabel control={<Checkbox value=\"remember\"\r\n                                                 color=\"primary\"\r\n            />}\r\n                              label=\"Remember me\"\r\n            />\r\n            <Button fullWidth\r\n                    variant=\"contained\"\r\n                    color=\"primary\"\r\n                    className={classes.submit}\r\n                    onClick={() => submit({ name, password })}\r\n            >\r\n              Sign in\r\n            </Button>\r\n          </form>\r\n        </Paper>\r\n      </main>\r\n  );\r\n}\r\n\r\nSignIn.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default withStyles(styles)(SignIn)\r\n\r\n","import React, { useState, useEffect } from 'react'\r\nimport { Query } from 'react-apollo'\r\nimport gql from 'graphql-tag'\r\n\r\nexport default () => {\r\n  return (\r\n      <Query query={gql`\r\n        {\r\n          allUser {\r\n            name\r\n            id\r\n          }\r\n        }\r\n      `}>\r\n        {({ loading, error, data }) => {\r\n          if (loading) return <p>Loading...</p>;\r\n          if (error) return <p>Error :(</p>;\r\n          return data.allUser.map(({ name, id }) => (\r\n              <div key={id}>\r\n                <p>{id}: {name}</p>\r\n              </div>\r\n          ));\r\n        }}\r\n      </Query>\r\n  )\r\n}\r\n","import Login from './Login'\r\nimport Home from './Home'\r\n\r\nexport default [{\r\n  props: {\r\n    path: '/login',\r\n    component: Login\r\n  }\r\n}, {\r\n  props: {\r\n    path: '/home',\r\n    component: Home\r\n  }\r\n}]\r\n","import React from 'react'\r\nimport { ApolloProvider } from 'react-apollo'\r\nimport { Router, Route, Switch, Redirect } from \"react-router-dom\"\r\nimport { client } from '@/common/apolloCLient'\r\nimport history from '@/common/history'\r\nimport Routes from '@/views'\r\nimport { CreateMessageObj } from '@/component/Message'\r\n\r\nexport default () =>\r\n    (\r\n        <ApolloProvider className=\"App\"\r\n                        client={client}\r\n        >\r\n          <Router history={history}>\r\n            <Switch>\r\n              <Redirect exact\r\n                     from=\"/\"\r\n                     to=\"/home\"\r\n              />\r\n              <Route path=\"/about\"\r\n                     component={About}\r\n              />\r\n              {Routes.map(({ props }) => props.layout ?\r\n                  <props.layout><Route {...props} key={props.path}/></props.layout> :\r\n                  <Route {...props} key={props.path}/>\r\n              )}\r\n              <Route component={NoMatch}/>\r\n            </Switch>\r\n          </Router>\r\n          <CreateMessageObj/>\r\n        </ApolloProvider>\r\n    )\r\n\r\nconst About = () => (\r\n    <div>\r\n      <h2>About</h2>\r\n    </div>\r\n)\r\n\r\nconst NoMatch = () => (\r\n    <div>\r\n      <h2>404</h2>\r\n    </div>\r\n);\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import '@/common/global'\nimport '@/common/plugins'\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport Routers from './Routers';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<Routers />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}