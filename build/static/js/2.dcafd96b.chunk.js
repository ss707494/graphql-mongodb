(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{5784:function(e,t,a){"use strict";a.r(t),a.d(t,"List",function(){return u});var n=a(5871),r=a(5796),c=a(247),o=[{name:"name"},{name:"id"},{name:"message"},{name:"createDate",formatData:function(e){return Object(n.a)(new Date(e),"yyyy/MM/dd HH:mm")}}],u=Object(r.a)({queryListGql:c.allBook,deleteGql:c.deleteOneBook,updateGql:c.updateBook,dataListName:"allBook",editType:[{name:"name"},{name:"message"}],columns:o});t.default=u},5796:function(e,t,a){"use strict";var n=a(25),r=a.n(n),c=a(28),o=a(10),u=a(31),i=a(19),l=a(0),m=a.n(l),s=a(5798),d=a.n(s),f=a(241),b=a.n(f),p=a(245),E=a.n(p),v=a(123),O=a.n(v),j=a(242),g=a.n(j),D=a(243),h=a.n(D),k=a(244),w=a.n(k),y=a(120),C=a(5802),P=a(43),S=a(33),x=a.n(S),q=a(84),F=a.n(q),T=a(87),B=a.n(T),G=a(86),H=a.n(G),L=a(85),N=a.n(L),J=a(69),M=a.n(J),A=a(240),I=a.n(A),R=a(122),W=a.n(R),z=a(71),K=a.n(z),Q=a(121),U=a.n(Q),V=a(5803),X=a(5801),Y=function(e){var t=e.name,a=e.type,n=e.editData,r=e.setEditData,c=e.options,l=void 0===c?[]:c,s=function(e){return r(Object(u.a)({},n,e))};return"Select"===a?m.a.createElement(m.a.Fragment,null,m.a.createElement(K.a,{shrink:!!n[t]},t),m.a.createElement(U.a,{value:n[t]||"",onChange:function(e){return s(Object(o.a)({},t,e.target.value))}},l.map(function(e){var t=Object(i.a)(e,2),a=t[0],n=t[1];return m.a.createElement(W.a,{key:a,value:a},n)}))):"DatePicker"===a?m.a.createElement(V.b,{utils:X.a},m.a.createElement(V.a,{label:t,value:n[t],onChange:function(e){return s(Object(o.a)({},t,e))}})):m.a.createElement(I.a,{label:t,value:n[t]||"",multiline:e.multiline,rows:e.rows,onChange:function(e){return s(Object(o.a)({},t,e.target.value))}})},Z=function(e){var t=e.typeName,a=void 0===t?"data":t,n=e.updateSchema,l=e.editType,s=e.refetch,d=e.showEdit,f=e.setEditData,b=e.editData,p=e.setShowEdit,E=e.dealEditData,v=void 0===E?function(e){return e}:E,O=Object(y.a)(n),j=Object(i.a)(O,3),g=j[0],D=j[2];return m.a.createElement(F.a,{open:d,onClose:function(){return p(!1)}},m.a.createElement(B.a,null,"EDIT"),m.a.createElement(N.a,null,m.a.createElement("form",null,l.map(function(e){var t=e.name;return m.a.createElement(M.a,{fullWidth:!0,key:"edit".concat(t)},Y(Object(u.a)({},e,{editData:b,setEditData:f})))}))),m.a.createElement(H.a,null,m.a.createElement(x.a,{onClick:Object(c.a)(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g(Object(o.a)({},a,v(b)));case 2:p(!1),s();case 4:case"end":return e.stop()}},e,this)}))},D?"loading":"save"),m.a.createElement(x.a,{onClick:function(){return p(!1)}},"cancel")))},$=a(55),_=a(56);function ee(){var e=Object($.a)(["\n    &&& {\n      min-width: 120px;\n      margin-left: 20px;\n    }\n"]);return ee=function(){return e},e}var te={FormControl:Object(_.a)(M.a)(ee())},ae=function(e){var t=e.setFormData,a=e.formData,n=e.formColumn,r=e.onSubmit,c=void 0===r?function(){}:r;return m.a.createElement("form",{onSubmit:function(e){e.preventDefault(),c()}},n.map(function(e){var n=Object(i.a)(e,3),r=n[0],c=n[1],o=n[2];return m.a.createElement(te.FormControl,{key:"SearchForm".concat(r)},Y({name:r,type:c,options:o,editData:a,setEditData:t}))}))},ne=a(83),re=function(e){var t=e.pageData,a=e.setPageData,n=e.count,r=e.refresh,c=void 0===r?function(){}:r;return m.a.createElement(ne.c,{component:"div",rowsPerPageOptions:[5,10,25],count:n,rowsPerPage:t.rowsPerPage||10,page:t.page||0,onChangePage:function(e,t){a({page:t}),c({page:t})},onChangeRowsPerPage:function(e){a({rowsPerPage:e.target.value}),c({rowsPerPage:e.target.value})}})},ce=a(48),oe=a.n(ce);function ue(){var e=Object($.a)(["\n  display: flex;\n"]);return ue=function(){return e},e}function ie(){var e=Object($.a)(["\n  padding: 10px;\n"]);return ie=function(){return e},e}var le={};le.TableSection=Object(_.a)(oe.a)(ie()),le.Header=Object(_.a)("header")(ue()),a.d(t,"a",function(){return me});var me=function(e){return function(t){var a=Object(P.a)(),n=Object(i.a)(a,1)[0],s=Object(y.b)(e.queryListGql),f=Object(i.a)(s,2),p=f[0],v=f[1],j=v[e.dataListName],D=void 0===j?[]:j,k=v.total,S=void 0===k?0:k,x=Object(y.a)(e.deleteGql),q=Object(i.a)(x,1)[0],F=function(){var e=Object(l.useState)({}),t=Object(i.a)(e,2),a=t[0];return{setFormData:t[1],formData:a}}(),T=function(){var e=Object(l.useState)({page:0,rowsPerPage:10}),t=Object(i.a)(e,2),a=t[0],n=t[1];return{pageData:a,setPageData:function(e){return n(Object(u.a)({},a,e))}}}(),B=m.a.useState({}),G=Object(i.a)(B,2),H=G[0],L=G[1],N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return p({data:Object(u.a)({},F.formData,{sortData:H},T.pageData,e)})};Object(l.useEffect)(function(){N()},[]);var J=function(){var e=Object(l.useState)(!1),t=Object(i.a)(e,2),a=t[0],n=t[1],r=Object(l.useState)({}),c=Object(i.a)(r,2),o=c[0],u=c[1];return{editClick:function(e){return function(){u(e),n(!0)}},showEdit:a,setEditData:u,editData:o,setShowEdit:n}}(),M=J.editClick,A=e.editType,I=e.columns,R=function(e){T.setPageData({page:0}),N(Object(u.a)({page:0},e))};return m.a.createElement(m.a.Fragment,null,m.a.createElement(le.TableSection,null,m.a.createElement(le.Header,null,m.a.createElement(C.a,{variant:"outlined",onClick:M({})},"add"),e.formColumn&&m.a.createElement(m.a.Fragment,null,m.a.createElement(ae,Object.assign({formColumn:e.formColumn,onSubmit:function(){return R()}},F)),m.a.createElement(C.a,{onClick:function(){return R()}},"search"))),m.a.createElement(b.a,null,m.a.createElement(g.a,null,m.a.createElement(h.a,null,I.map(function(e){var t=e.name,a=e.sort;return m.a.createElement(O.a,{key:"tableHead".concat(t)},a?m.a.createElement(w.a,{title:"sort"},m.a.createElement(ne.d,{active:!0,direction:-1===H[t]?"desc":"asc",onClick:function(){var e=Object(u.a)({},H,Object(o.a)({},t,-(H[t]||1)));L(e),R({sortData:e})}},t)):t)}),m.a.createElement(O.a,null,"action"))),m.a.createElement(E.a,null,D.map(function(e){return m.a.createElement(h.a,{key:e.id},I.map(function(t){var a=t.name,n=t.path,r=t.formatData,c=void 0===r?function(e){return e}:r;return m.a.createElement(O.a,{key:"tableBody".concat(a)},c(d()(e,n||a)))}),m.a.createElement(O.a,null,m.a.createElement(C.a,{variant:"outlined",onClick:M(e)},"edit"),m.a.createElement(C.a,{variant:"outlined",onClick:function(){n.showConfirm({message:"Are you sure",callBack:function(){var t=Object(c.a)(r.a.mark(function t(a){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,q({id:e.id});case 4:N();case 5:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()})}},"del")))}))),m.a.createElement(re,Object.assign({},T,{count:~~S,refresh:N}))),m.a.createElement(Z,Object.assign({refetch:N,editType:A,updateSchema:e.updateGql,dealEditData:e.dealEditData},J)))}}}}]);
//# sourceMappingURL=2.dcafd96b.chunk.js.map